"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[431],{87:(e,r,t)=>{var s=t(306);const o=e=>({panelOpen:e,isLoading:!1,targetAction:"",reloadModule(e){this.targetAction="reload-"+e,this.isLoading=!0,fetch(`${this.appUrl}cbDebugger/reloadModule/module/${e}`).then((e=>e.json())).then((r=>{r.error?alert(r.messages.toString()):alert(e+" reloaded!"),this.targetAction="",this.isLoading=!1}))},unloadModule(e){this.targetAction="unload-"+e,this.isLoading=!0,fetch(`${this.appUrl}cbDebugger/unloadModule/module/${e}`).then((e=>e.json())).then((r=>{r.error?alert(r.messages.toString()):alert(e+" unloaded!"),this.targetAction="",this.isLoading=!1,this.$refs["module-row-"+e].remove()}))}}),i=(e,r,t,s)=>({panelOpen:e,refreshFrequency:r,usingReinitPassword:t,isVisualizer:s,currentProfileId:"",refreshMonitor:null,reinitFramework(){this.$refs.reinitLoader.classList.add("cbd-spinner");let e=this.usingReinitPassword?prompt("Reinit Password?"):"1";fetch(`${this.appUrl}?fwreinit=${e}`,{headers:{"x-Requested-With":"XMLHttpRequest"}}).then((e=>{e.ok?(alert("Framework Reinitted!"),this.refreshProfilers()):alert("HTTP Call Error"+e.status),this.$refs.reinitLoader.classList.remove("cbd-spinner")}))},loadProfilerReport(e){this.stopDebuggerMonitor(),fetch(`${this.appUrl}cbDebugger/renderProfilerReport`,{method:"POST",headers:{"x-Requested-With":"XMLHttpRequest"},body:JSON.stringify({id:e,isVisualizer:this.isVisualizer})}).then((e=>e.text())).then((r=>{history.pushState({profileId:e},null,"#"+e),this.$refs["cbd-profilers"].innerHTML=r,coldboxDebugger.scrollTo("cbd-request-tracker")}))},clearState(){history.pushState({},null,"#"),this.currentProfileId=""},refreshProfilers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$refs.refreshLoader.classList.add("cbd-spinner"),fetch(`${this.appUrl}cbDebugger/renderProfilers?sortBy=${e}&sortOrder=${r}`,{headers:{"x-Requested-With":"XMLHttpRequest"}}).then((e=>e.text())).then((e=>{this.clearState(),this.$refs["cbd-profilers"].innerHTML=e,this.$refs.refreshLoader.classList.remove("cbd-spinner")}))},clearProfilers(){this.$refs.clearLoader.classList.add("cbd-spinner"),fetch(`${this.appUrl}cbDebugger/clearProfilers`,{headers:{"x-Requested-With":"XMLHttpRequest"}}).then((e=>e.json())).then((e=>{this.clearState(),e.error?alert(e.messages.toString()):this.refreshProfilers(),this.$refs.clearLoader.classList.remove("cbd-spinner")}))},stopDebuggerMonitor(){null!=this.refreshMonitor&&(clearInterval(this.refreshMonitor),this.refreshFrequency=0,console.info("Stopped ColdBox Debugger Profiler Refresh"))},startDebuggerMonitor(e){this.stopDebuggerMonitor(),this.refreshFrequency=e,0!=this.refreshFrequency&&(this.refreshMonitor=setInterval((()=>this.refreshProfilers()),1e3*this.refreshFrequency),console.info("Started ColdBox Debugger Profiler Refresh using "+this.refreshFrequency+" seconds"))},init(){window.addEventListener("popstate",(e=>{e.state&&e.state.profileId?(this.currentProfileId=e.state.profileId,this.loadProfilerReport(e.state.profileId)):this.refreshProfilers()})),location.hash&&(this.currentProfileId=location.hash.substr(1),this.loadProfilerReport(this.currentProfileId))}});window.coldboxDebugger=(document.addEventListener("alpine:init",(()=>{window.Alpine.data("cbdModulesPanel",o),window.Alpine.data("cbdRequestTrackerPanel",i)})),window.addEventListener("load",(e=>{window.hasOwnProperty("Alpine")?console.log("Alpine already loaded, cbDebugger will use it!"):(window.Alpine=s.Z,window.Alpine.start()),console.log("ColdBox Debugger Loaded!")})),{copyToClipboard:function(e){var r=document.getElementById(e);if(document.body.createTextRange)(t=document.body.createTextRange()).moveToElementText(r),t.select(),document.execCommand("Copy");else if(window.getSelection){var t,s=window.getSelection();(t=document.createRange()).selectNodeContents(r),s.removeAllRanges(),s.addRange(t),document.execCommand("Copy")}},scrollTo:function(e){let r=null==e?0:document.getElementById(e).offsetTop-10;window.scroll({top:r,behavior:"smooth"})},openWindow:function(e,r,t,s,o){let i=screen.width?(screen.width-t)/2:0,n=screen.width?(screen.height-s)/2:0;i<0&&(i=0),n<0&&(n=0),window.open(e,r,`height=${s},width=${t},top=${n},left=${i}+${o}`).window.focus()}})}},e=>{e.O(0,[79],(()=>{return r=87,e(e.s=r);var r}));e.O()}]);
//# sourceMappingURL=cbdebugger.c04a0808b6c2c1442a13.js.map